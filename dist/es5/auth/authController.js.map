{"version":3,"sources":["../../../js/auth/authController.js"],"names":["app","controller","$scope","$state","localStorageService","fetcher","username","get","signin","data","password","CryptoJS","SHA256","toString","postAuth","response","errmessage","status_code","set","result","id","role","go","message"],"mappings":";;AAAAA,IAAIC,UAAJ,CAAe,gBAAf,EAAiC,CAAC,QAAD,EAAW,QAAX,EAAqB,qBAArB,EAA4C,SAA5C,EAAuD,UAAUC,MAAV,EAAkBC,MAAlB,EAA0BC,mBAA1B,EAA+CC,OAA/C,EAAwD;AAC5I;;AAEHH,QAAOI,QAAP,GAAkBF,oBAAoBG,GAApB,CAAwB,UAAxB,CAAlB;;AAEAL,QAAOM,MAAP,GAAgB,YAAM;AACrB,MAAIC,OAAO,EAAEH,UAAUJ,OAAOI,QAAnB,EAA6BI,UAAUC,SAASC,MAAT,CAAgBV,OAAOQ,QAAvB,EAAiCG,QAAjC,EAAvC,EAAX;AACAR,UAAQS,QAAR,CAAiBL,IAAjB,EAAuB,UAACM,QAAD,EAAc;AACpCb,UAAOc,UAAP,GAAoB,EAApB;AACA,OAAID,SAASA,QAAT,IAAqB,IAArB,IAA6BA,SAASE,WAAT,IAAwB,GAAzD,EAA8D;AAC7Db,wBAAoBc,GAApB,CAAwB,IAAxB,EAA8BH,SAASI,MAAT,CAAgBC,EAA9C;AACAhB,wBAAoBc,GAApB,CAAwB,MAAxB,EAAgCH,SAASI,MAAT,CAAgBE,IAAhD;AACAjB,wBAAoBc,GAApB,CAAwB,UAAxB,EAAoChB,OAAOI,QAA3C;;AAEAH,WAAOmB,EAAP,CAAU,qBAAV;AACA,IAND,MAMO;AACNpB,WAAOc,UAAP,GAAoBD,SAASQ,OAA7B;AACA;AACD,GAXD;AAYA,EAdD;AAeA,CApBgC,CAAjC","file":"authController.js","sourcesContent":["app.controller('AuthController', ['$scope', '$state', 'localStorageService', 'fetcher', function ($scope, $state, localStorageService, fetcher) {\n    'use strict';\n\n\t$scope.username\t= localStorageService.get('username');\n\n\t$scope.signin\t= () => {\n\t\tlet data\t= { username: $scope.username, password: CryptoJS.SHA256($scope.password).toString() }\n\t\tfetcher.postAuth(data, (response) => {\n\t\t\t$scope.errmessage\t= \"\";\n\t\t\tif (response.response == 'OK' && response.status_code == 200) {\n\t\t\t\tlocalStorageService.set('id', response.result.id);\n\t\t\t\tlocalStorageService.set('role', response.result.role);\n\t\t\t\tlocalStorageService.set('username', $scope.username);\n\n\t\t\t\t$state.go('dashboard.statistic');\n\t\t\t} else {\n\t\t\t\t$scope.errmessage\t= response.message;\n\t\t\t}\n\t\t});\n\t}\n}]);\n"]}