{"version":3,"sources":["../../../js/dashboard/statisticController.js"],"names":["app","controller","$scope","fetcher","$interval","dialog","globalVar","refreshRate","data","overview","label","model","init","getStatistic","response","status_code","result","currentTime","moment","format","maxVillage","_","chain","get","maxBy","value"],"mappings":";;AAAAA,IAAIC,UAAJ,CAAe,qBAAf,EAAsC,CAAC,QAAD,EAAW,SAAX,EAAsB,WAAtB,EAAmC,QAAnC,EAA6C,WAA7C,EAA0D,UAAUC,MAAV,EAAkBC,OAAlB,EAA2BC,SAA3B,EAAsCC,MAAtC,EAA8CC,SAA9C,EAAyD;AACrJ;;AAEH,KAAIC,cAAc,CAAlB,CAHwJ,CAGnI;;AAErBL,QAAOM,IAAP,GAAc,EAAd;;AAEAN,QAAOO,QAAP,GAAkB,CACjB,CACC,EAAEC,OAAO,OAAT,EAAkBC,OAAO,OAAzB,EADD,EAEC,EAAED,OAAO,OAAT,EAAkBC,OAAO,OAAzB,EAFD,EAGC,EAAED,OAAO,cAAT,EAAyBC,OAAO,aAAhC,EAHD,CADiB,EAMjB,CACC,EAAED,OAAO,WAAT,EAAsBC,OAAO,UAA7B,EADD,EAEC,EAAED,OAAO,WAAT,EAAsBC,OAAO,SAA7B,EAFD,EAGC,EAAED,OAAO,WAAT,EAAsBC,OAAO,UAA7B,EAHD,EAIC,EAAED,OAAO,UAAT,EAAqBC,OAAO,SAA5B,EAJD,CANiB,CAAlB;;AAcA,KAAIC,OAAO,SAAPA,IAAO,GAAM;AAChBT,UAAQU,YAAR,CAAqB,UAACC,QAAD,EAAc;AAClC,OAAIA,SAASA,QAAT,IAAqB,IAArB,IAA6BA,SAASC,WAAT,IAAwB,GAAzD,EAA8D;AAC7Db,WAAOM,IAAP,GAAcM,SAASE,MAAvB;AACAd,WAAOe,WAAP,GAAqBC,SAASC,MAAT,CAAgB,4BAAhB,CAArB;AACAjB,WAAOkB,UAAP,GAAoBC,EAAEC,KAAF,CAAQR,QAAR,EAAkBS,GAAlB,CAAsB,CAAC,QAAD,EAAW,YAAX,CAAtB,EAAgDC,KAAhD,CAAsD,QAAtD,EAAgED,GAAhE,CAAoE,QAApE,EAA8EE,KAA9E,MAAyF,CAA7G;AACA;AACD,GAND;AAOA,EARD;;AAUAb;AACAR,WAAU,YAAM;AAAEQ;AAAS,EAA3B,EAA6BL,cAAc,EAAd,GAAmB,IAAhD;AACA,CAjCqC,CAAtC","file":"statisticController.js","sourcesContent":["app.controller('StatisticController', ['$scope', 'fetcher', '$interval', 'dialog', 'globalVar', function ($scope, fetcher, $interval, dialog, globalVar) {\n    'use strict';\n\n\tlet refreshRate\t= 5; // in minutes\n\n\t$scope.data\t= {};\n\n\t$scope.overview\t= [\n\t\t[\n\t\t\t{ label: 'users', model: 'total'},\n\t\t\t{ label: 'login', model: 'login'},\n\t\t\t{ label: 'transactions', model: 'transaction'},\n\t\t],\n\t\t[\n\t\t\t{ label: 'provinces', model: 'province'},\n\t\t\t{ label: 'regencies', model: 'regency'},\n\t\t\t{ label: 'districts', model: 'district'},\n\t\t\t{ label: 'villages', model: 'village'},\n\t\t],\n\t]\n\n\tlet init = () => {\n\t\tfetcher.getStatistic((response) => {\n\t\t\tif (response.response == 'OK' && response.status_code == 200) {\n\t\t\t\t$scope.data\t= response.result;\n\t\t\t\t$scope.currentTime = moment().format(\"dddd, MMMM Do YYYY, h:mm a\");\n\t\t\t\t$scope.maxVillage = _.chain(response).get(['result', 'topvillage']).maxBy('jumlah').get('jumlah').value() || 1;\n\t\t\t}\n\t\t});\n\t}\n\n\tinit();\n\t$interval(() => { init(); }, refreshRate * 60 * 1000);\n}]);\n"]}