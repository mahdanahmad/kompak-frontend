"use strict";var angular=angular,app=angular.module("app",["ui.router","ct.ui.router.extras.core","permission","permission.ui","LocalStorageModule","ngDialog","angular-loading-bar","ngAnimate","infinite-scroll","ngMaterial","wu.masonry","ngSanitize","nvd3"]);app.config(["$stateProvider","$locationProvider","$urlRouterProvider","$httpProvider","$mdThemingProvider","localStorageServiceProvider","cfpLoadingBarProvider",function(a,b,c,d,e,f,g){c.otherwise(function(a){a.get("$state").go("auth")}),a.state("auth",{url:"/auth",templateUrl:"views/auth/auth.html",controller:"AuthController",data:{permissions:{except:["isAuthorized"],redirectTo:"dashboard.statistic"}}}).state("dashboard",{url:"",templateUrl:"views/dashboard/dashboard.html",controller:"DashboardController",abstract:!0,data:{permissions:{only:["isAuthorized"],redirectTo:"auth"}}}).state("dashboard.statistic",{url:"/statistic",templateUrl:"views/dashboard/statistic.html",controller:"StatisticController"}).state("dashboard.user",{url:"/user",templateUrl:"views/dashboard/user.html",controller:"UserController"}).state("dashboard.admin",{url:"/admin",templateUrl:"views/dashboard/admin.html",controller:"AdminController"}).state("dashboard.choices",{url:"/choices",templateUrl:"views/dashboard/choices/question.html",controller:"ChoicesController"}).state("dashboard.choicesAns",{url:"/choicesAns",templateUrl:"views/dashboard/choices/answer.html",controller:"ChoicesAnsController"}).state("dashboard.essay",{url:"/essay",templateUrl:"views/dashboard/essay/question.html",controller:"EssayController"}).state("dashboard.essayAns",{url:"/essayAns",templateUrl:"views/dashboard/essay/answer.html",controller:"EssayAnsController"}).state("dashboard.location",{url:"/location/:province/:regency/:district",templateUrl:"views/dashboard/location.html",controller:"LocationController",params:{province:{squash:!0,value:null},regency:{squash:!0,value:null},district:{squash:!0,value:null}}}).state("dashboard.misc",{url:"/misc",templateUrl:"views/dashboard/misc.html",controller:"MiscController"}).state("dashboard.logs",{url:"/logs",templateUrl:"views/dashboard/logs.html",controller:"LogsController"}),f.setPrefix("gapuradesa"),g.parentSelector="#loading-bar-container",e.disableTheming()}]),app.controller("MainController",["$scope","$rootScope","$location","localStorageService","fetcher",function(a,b,c,d,e){}]),app.run(["PermPermissionStore","localStorageService","$templateCache",function(a,b,c){a.definePermission("isAuthorized",function(){return!_.isNull(b.get("id"))})}]),app.controller("AuthController",["$scope","$state","localStorageService","fetcher",function(a,b,c,d){a.username=c.get("username"),a.signin=function(){var e={username:a.username,password:CryptoJS.SHA256(a.password).toString()};d.postAuth(e,function(d){a.errmessage="","OK"==d.response&&200==d.status_code?(c.set("id",d.result.id),c.set("role",d.result.role),c.set("username",a.username),b.go("dashboard.statistic")):a.errmessage=d.message})}}]),app.controller("AdminController",["$scope","fetcher","$timeout","dialog","globalVar","localStorageService",function(a,b,c,d,e,f){var g=0;a.search="",a.nodata=null,a.loading=e.loading,a.data=[],a.pauseAjx=!1,a.doneAjx=!1,a.openHint=function(){d.notif(e.adminHint)},a.loadMoar=function(){a.pauseAjx=!0,g++;var c=_.omitBy({limit:10,offset:10*g,like:a.search&&a.search.length>=3?a.search:null,orderby:a.orderby.value+" "+a.orderby.order},_.isNil);b.getAllAdmin(c,function(b){"OK"==b.response&&200==b.status_code&&b.result?(b.result.length<10&&(a.doneAjx=!0),a.data=_.concat(a.data,b.result)):a.doneAjx=!0,a.pauseAjx=!1})};var h=void 0;a.$watch("search",function(b,d){_.isNil(b)||b===d?a.search="":(h&&c.cancel(h),h=c(function(){b.length>=3?i(b):""!=b||a.pauseAjx||i()},500))}),a.newAdmin=function(){d.adminDialog({},function(c){_.isObject(c)&&(c.role=JSON.stringify(c.role),c.password=CryptoJS.SHA256(c.password).toString(),b.postAdmin(c,function(b){"OK"==b.response&&200==b.status_code?i(a.search&&a.search.length>=3?a.search:null):"Duplicate primary key(s). Please check again your input."==b.message&&d.error("Penambahan data gagal, username sudah terpakai.")}))})},a.editAdmin=function(c){var e=_.clone(c);d.adminDialog(e,function(e){_.isObject(e)&&!_.isEqual(c,e)&&(e.role=JSON.stringify(e.role),b.putAdmin(c.id,e,function(b){"OK"==b.response&&200==b.status_code?i(a.search&&a.search.length>=3?a.search:null):"Duplicate primary key(s). Please check again your input."==b.message&&d.error("Pengubahan data gagal, username sudah terpakai.")}))})},a.delete=function(c,e,g){g.stopPropagation(),d.confirm("Apakah anda yakin akan menghapus "+e+" akun?",function(d){d&&b.deleteAdmin(c,function(b){"OK"==b.response&&200==b.status_code&&(c==f.get("id")?a.$parent.logout():i(a.search&&a.search.length>=3?a.search:null))})})};var i=function(c){a.pauseAjx=!0,a.nodata=null,g=0,b.getAllAdmin(_.omitBy({limit:10,like:c,offset:0},_.isNil),function(b){"OK"==b.response&&200==b.status_code&&(a.data=b.result,b.result?b.result.length<10?a.doneAjx=!0:a.doneAjx=!1:(a.nodata=e.nodata,a.doneAjx=!0),a.pauseAjx=!1)})};i()}]),app.controller("ChoicesAnsController",["$scope","fetcher","$timeout","dialog","globalVar",function(a,b,c,d,e){var f=0;a.category={},a.data=[],a.pauseAjx=!1,a.doneAjx=!1,a.search="",a.nodata=null,a.loading=e.loading;var g=function(){return a.search&&a.search.length>=3?a.search:null};a.openHint=function(){d.notif(e.choicesAnsHint)},a.toDate=function(a){return moment(a).format("dddd, Do MMMM YYYY, hh:mm")},a.loadMoar=function(){a.pauseAjx=!0,f++;var c=_.omitBy({limit:15,offset:15*f,like:g(),category:a.category.id},_.isNil);b.getAllAnswer(c,function(b){"OK"==b.response&&200==b.status_code&&b.result?(b.result.length<15&&(a.doneAjx=!0),a.data=_.concat(a.data,b.result)):a.doneAjx=!0,a.pauseAjx=!1})};var h=void 0;a.$watch("search",function(b,d){_.isNil(b)||b===d?a.search="":(h&&c.cancel(h),h=c(function(){b.length>=3?i(b):""!=b||a.pauseAjx||i()},500))}),a.selectCate=function(b){a.category=b,i(g())},a.delete=function(a,c,e){e.stopPropagation(),d.confirm("Are you sure you wanna delete an answer by "+c+"?",function(c){c&&b.deleteAnswer(a,function(a){"OK"==a.response&&200==a.status_code&&i(g())})})};var i=function(c){a.pauseAjx=!0,a.nodata=null,f=0,b.getAllAnswer(_.omitBy({limit:15,like:c,offset:0,category:a.category.id},_.isNil),function(b){"OK"==b.response&&200==b.status_code&&(a.data=b.result,b.result?b.result.length<15?a.doneAjx=!0:a.doneAjx=!1:(a.nodata=e.nodata,a.doneAjx=!0),a.pauseAjx=!1)})};!function(){b.getAllCategory({},function(b){"OK"==b.response&&200==b.status_code&&(a.categories=_.chain(b.result).map(function(a){return{id:a.ID_category,name:a.category_name}}).sortBy(["name"]).unshift({id:null,name:"Semua"}).value(),a.category=_.head(a.categories),i())})}()}]),app.controller("ChoicesController",["$scope","fetcher","$timeout","dialog","globalVar",function(a,b,c,d,e){var f=0;a.category={},a.data=[],a.pauseAjx=!1,a.doneAjx=!1,a.search="",a.nodata=null,a.loading=e.loading;var g=function(){return a.search&&a.search.length>=3?a.search:null};a.openHint=function(){d.notif(e.choicesHint)},a.loadMoar=function(){a.pauseAjx=!0,f++;var c=_.omitBy({limit:10,offset:10*f,like:g(),category:a.category.id},_.isNil);b.getAllQuestion(c,function(b){"OK"==b.response&&200==b.status_code&&b.result?(b.result.length<10&&(a.doneAjx=!0),a.data=_.concat(a.data,b.result)):a.doneAjx=!0,a.pauseAjx=!1})};var h=void 0;a.$watch("search",function(b,d){_.isNil(b)||b===d?a.search="":(h&&c.cancel(h),h=c(function(){b.length>=3?i(b):""!=b||a.pauseAjx||i()},500))}),a.selectCate=function(b){a.category=b,i(g())},a.newQuestion=function(){d.choicesDialog({categories:a.categories},function(a){_.isObject(a)&&(a.question_enabled=a.question_enabled?"1":"0",b.postQuestion(_.mapValues(a,_.toString),function(a){"OK"==a.response&&200==a.status_code&&i(g())}))})},a.edit=function(c){async.waterfall([function(a){b.getQuestion(c,function(b){"OK"==b.response&&200==b.status_code?a(null,b.result):a(b.message)})},function(b,c){var e=_.clone(b);d.choicesDialog({data:b,categories:a.categories},function(a){_.isObject(a)&&!_.isEqual(e,a)?c(null,a):c(null)})}],function(a,c){a&&console.log(a),c&&(c.question_enabled=c.question_enabled?"1":"0",b.putQuestion(c.ID_question,_.chain(c).mapValues(_.toString).omit(["no_of_times_correctly_answered","no_of_times_incorrectly_answered","no_of_times_presented_as_challenge","no_of_times_response_1","no_of_times_response_2","no_of_times_response_3","no_of_times_response_4"]).value(),function(a){"OK"==a.response&&200==a.status_code&&i(g())}))})},a.changeEna=function(a,c){c.stopPropagation();var d=a.question_enabled?"0":"1";b.putQuestion(a.ID_question,{question_enabled:d},function(b){"OK"==b.response&&200==b.status_code&&(a.question_enabled=!a.question_enabled)})},a.delete=function(a,c,e){e.stopPropagation(),d.confirm('Apakah anda yakin akan menghapus pertanyaan "'+c+'"?',function(c){c&&b.deleteQuestion(a,function(a){"OK"==a.response&&200==a.status_code&&i(g())})})};var i=function(c){a.pauseAjx=!0,a.nodata=null,f=0,b.getAllQuestion(_.omitBy({limit:10,like:c,offset:0,category:a.category.id},_.isNil),function(b){"OK"==b.response&&200==b.status_code&&(a.data=b.result,b.result?b.result.length<10?a.doneAjx=!0:a.doneAjx=!1:(a.nodata=e.nodata,a.doneAjx=!0),a.pauseAjx=!1)})};!function(){b.getAllCategory({},function(b){"OK"==b.response&&200==b.status_code&&(a.categories=_.chain(b.result).map(function(a){return{id:a.ID_category,name:a.category_name}}).sortBy(["name"]).unshift({id:null,name:"Semua"}).value(),a.category=_.head(a.categories),i())})}()}]),app.controller("DashboardController",["$scope","$location","$document","$state","localStorageService","fetcher","dialog",function(a,b,c,d,e,f,g){a.menus=[{title:"Statistik",icon:"line-chart",state:"statistic"},{title:"Daftar Pemain",icon:"user",state:"user"},{title:"Daftar Admin",icon:"gavel",state:"admin"},{title:"Pertanyaan Pilihan Ganda",icon:"th-large",state:"choices"},{title:"Jawaban Pilihan Ganda",icon:"square",state:"choicesAns"},{title:"Pertanyaan Essai",icon:"pencil-square-o",state:"essay"},{title:"Jawaban Essai",icon:"file-text-o",state:"essayAns"},{title:"Lokasi",icon:"map-o",state:"location"},{title:"Pengaturan",icon:"cogs",state:"misc"},{title:"Logs",icon:"newspaper-o",state:"logs"}],a.active=b.url().split("/")[1],a.setActive=function(b){a.active=b,d.go("dashboard."+b)},a.logout=function(){e.remove("id","role"),d.go("auth")},a.editprofile=function(){async.waterfall([function(a){f.getAdmin(e.get("id"),function(b){"OK"==b.response&&200==b.status_code?a(null,b.result):a(b.message)})},function(a,b){var c=_.clone(a);g.profileDialog(a,function(a){_.isObject(a)&&!_.isEqual(c,a)?b(null,_.pick(a,["name","username","email","newpassword"])):b(null)})}],function(a,b){a&&console.log(a),b&&(_.isEmpty(b.newpassword)||(b.password=CryptoJS.SHA256(b.newpassword).toString()),f.putAdmin(e.get("id"),b,function(a){"OK"==a.response&&200==a.status_code?g.notif("data anda berhasil diperbarui."):"Duplicate primary key(s). Please check again your input."==a.message?g.error("Pengubahan data gagal, username sudah terpakai."):g.error(a.message)}))})};!function(){f.getAdmin(e.get("id"),function(b){"OK"==b.response&&200==b.status_code&&(a.username=b.result.username,a.role=b.result.role)})}()}]),app.controller("EssayAnsController",["$scope","fetcher","$timeout","dialog","globalVar",function(a,b,c,d,e){var f=0;a.category={},a.data=[],a.pauseAjx=!1,a.doneAjx=!1,a.search="",a.nodata=null,a.loading=e.loading;var g=function(){return a.search&&a.search.length>=3?a.search:null};a.openHint=function(){d.notif(e.essayAnsHint)},a.toDate=function(a){return moment(a).format("dddd, Do MMMM YYYY, hh:mm")},a.loadMoar=function(){a.pauseAjx=!0,f++;var c=_.omitBy({limit:15,offset:15*f,like:g(),category:a.category.id},_.isNil);b.getAllEssayAns(c,function(b){"OK"==b.response&&200==b.status_code&&b.result?(b.result.length<15&&(a.doneAjx=!0),a.data=_.concat(a.data,b.result)):a.doneAjx=!0,a.pauseAjx=!1})};var h=void 0;a.$watch("search",function(b,d){_.isNil(b)||b===d?a.search="":(h&&c.cancel(h),h=c(function(){b.length>=3?i(b):""!=b||a.pauseAjx||i()},500))}),a.selectCate=function(b){a.category=b,i(g())},a.delete=function(a,c,e){e.stopPropagation(),d.confirm("Are you sure you wanna delete an answer by "+c+"?",function(c){c&&b.deleteEssayAns(a,function(a){"OK"==a.response&&200==a.status_code&&i(g())})})};var i=function(c){a.pauseAjx=!0,a.nodata=null,f=0,b.getAllEssayAns(_.omitBy({limit:15,like:c,offset:0,category:a.category.id},_.isNil),function(b){"OK"==b.response&&200==b.status_code&&(a.data=b.result,b.result?b.result.length<15?a.doneAjx=!0:a.doneAjx=!1:(a.nodata=e.nodata,a.doneAjx=!0),a.pauseAjx=!1)})};!function(){b.getAllCategory({},function(b){"OK"==b.response&&200==b.status_code&&(a.categories=_.chain(b.result).map(function(a){return{id:a.ID_category,name:a.category_name}}).sortBy(["name"]).unshift({id:null,name:"Semua"}).value(),a.category=_.head(a.categories),i())})}()}]),app.controller("EssayController",["$scope","fetcher","$timeout","dialog","globalVar",function(a,b,c,d,e){var f=0;a.category={},a.data=[],a.pauseAjx=!1,a.doneAjx=!1,a.search="",a.nodata=null,a.loading=e.loading;var g=function(){return a.search&&a.search.length>=3?a.search:null};a.openHint=function(){d.notif(e.essayHint)},a.loadMoar=function(){a.pauseAjx=!0,f++;var c=_.omitBy({limit:15,offset:15*f,like:g(),category:a.category.id},_.isNil);b.getAllEssay(c,function(b){"OK"==b.response&&200==b.status_code&&b.result?(b.result.length<15&&(a.doneAjx=!0),a.data=_.concat(a.data,b.result)):a.doneAjx=!0,a.pauseAjx=!1})};var h=void 0;a.$watch("search",function(b,d){_.isNil(b)||b===d?a.search="":(h&&c.cancel(h),h=c(function(){b.length>=3?i(b):""!=b||a.pauseAjx||i()},500))}),a.selectCate=function(b){a.category=b,i(g())},a.newQuestion=function(){d.essayDialog({categories:a.categories},function(a){_.isObject(a)&&b.postEssay(_.mapValues(a,_.toString),function(a){"OK"==a.response&&200==a.status_code&&i(g())})})},a.edit=function(c){async.waterfall([function(a){b.getEssay(c,function(b){"OK"==b.response&&200==b.status_code?a(null,b.result):a(b.message)})},function(b,c){var e=_.clone(b);d.essayDialog({data:b,categories:a.categories},function(a){_.isObject(a)&&!_.isEqual(e,a)?c(null,a):c(null)})}],function(a,c){a&&console.log(a),c&&b.putEssay(c.id,_.chain(c).mapValues(_.toString).omit([]).value(),function(a){"OK"==a.response&&200==a.status_code&&i(g())})})},a.delete=function(a,c,e){e.stopPropagation(),d.confirm('Apakah anda yakin akan menghapus pertanyaan "'+c+'"?',function(c){c&&b.deleteEssay(a,function(a){"OK"==a.response&&200==a.status_code&&i(g())})})};var i=function(c){a.pauseAjx=!0,a.nodata=null,f=0,b.getAllEssay(_.omitBy({limit:15,like:c,offset:0,category:a.category.id},_.isNil),function(b){"OK"==b.response&&200==b.status_code&&(a.data=b.result,b.result?b.result.length<15?a.doneAjx=!0:a.doneAjx=!1:(a.nodata=e.nodata,a.doneAjx=!0),a.pauseAjx=!1)})};!function(){b.getAllCategory({},function(b){"OK"==b.response&&200==b.status_code&&(a.categories=_.chain(b.result).map(function(a){return{id:a.ID_category,name:a.category_name}}).sortBy(["name"]).unshift({id:null,name:"Semua"}).value(),a.category=_.head(a.categories),i())})}()}]),app.controller("LocationController",["$scope","fetcher","$timeout","$state","$stateParams","dialog","globalVar",function(a,b,c,d,e,f,g){var h=0,i="",j="",k="";switch(a.locMap={province:"provinsi",regency:"kabupaten",district:"kecamatan",village:"desa"},a.openHint=function(){f.notif(g.locationHint)},!0){case!_.isNil(e.province)&&!_.isNil(e.regency)&&!_.isNil(e.district):i=e.province+"/"+e.regency+"/"+e.district+"/",a.state="village",j=e.district,k="district";break;case!_.isNil(e.province)&&!_.isNil(e.regency):i=e.province+"/"+e.regency+"/",a.state="district",j=e.regency,k="regency";break;case!_.isNil(e.province):i=e.province+"/",a.state="regency",j=e.province,k="province";break;default:a.state="province"}a.data=[],a.pauseAjx=!1,a.doneAjx=!1,a.search="",a.nodata=null,a.loading=g.loading,a.gotoLocation=function(b){var c={};c[a.state]=b,d.go("dashboard.location",_.assign({},_.omit(e,["#"]),c))},a.backLocation=function(){var a={};a[k]=null,d.go("dashboard.location",_.assign({},_.omit(e,["#"]),a))};var l=function(){return a.search&&a.search.length>=3?a.search:null},m=function(a){return _.chain(a).map(function(a){return _.chain(a).pickBy(function(a,b){return _.includes(["id"],b)||_.startsWith(b,"name")}).mapKeys(function(a,b){return"id"==b?"id":"name"}).value()}).value()};a.loadMoar=function(){a.pauseAjx=!0,h++;var c=_.omitBy({limit:20,offset:20*h,like:l()},_.isNil);b.getLocation(i,c,function(b){"OK"==b.response&&200==b.status_code&&b.result.data?(b.result.data.length<20&&(a.doneAjx=!0),a.data=_.concat(a.data,m(b.result.data))):a.doneAjx=!0,a.pauseAjx=!1})};var n=void 0;a.$watch("search",function(b,d){_.isNil(b)||b===d?a.search="":(n&&c.cancel(n),n=c(function(){b.length>=3?o(b):""!=b||a.pauseAjx||o()},500))}),a.newLocation=function(){f.locationDialog({state:a.locMap[a.state],isNew:!0,data:{id:j}},function(a){_.isObject(a)&&b.postLocation(i,_.mapValues(a,_.toString),function(a){"OK"==a.response&&200==a.status_code?o(l()):f.error(a.message)})})},a.edit=function(c,d){d.stopPropagation(),f.locationDialog({state:a.locMap[a.state],isNew:!1,data:_.clone(c)},function(a){_.isObject(a)&&b.putLocation(i+c.id,_.mapValues(a,_.toString),function(a){"OK"==a.response&&200==a.status_code?o(l()):f.error(a.message)})})},a.delete=function(a,c,d){d.stopPropagation(),f.confirm('Apakah anda yakin akan menghapus "'+c+'"?',function(c){c&&b.deleteLocation(i+a,function(a){"OK"==a.response&&200==a.status_code?o(l()):f.error(a.message)})})};var o=function(c){a.pauseAjx=!0,a.nodata=null,h=0,b.getLocation(i,_.omitBy({limit:20,like:c,offset:0},_.isNil),function(b){"OK"==b.response&&200==b.status_code&&(a.title="province"==a.state?"<span>semua</span> provinsi":a.locMap[a.state]+" <span>di "+b.result.name+"</span>",a.data=m(b.result.data),b.result.data?b.result.data.length<20?a.doneAjx=!0:a.doneAjx=!1:(a.nodata=g.nodata,a.doneAjx=!0),a.pauseAjx=!1)})};o()}]),app.controller("LogsController",["$scope","fetcher","$timeout","dialog","globalVar",function(a,b,c,d,e){var f=0;a.data=[],a.pauseAjx=!1,a.doneAjx=!1,a.search="",a.nodata=null,a.loading=e.loading;var g=function(){return a.search&&a.search.length>=3?a.search:null};a.openHint=function(){d.notif(e.choicesHint)},a.toDate=function(a){return moment(a).format("dddd, Do MMMM YYYY, hh:mm")},a.stateOptions=[{title:"semua",value:null},{title:"insert",value:"INSERT"},{title:"update",value:"UPDATE"},{title:"delete",value:"DELETE"}],a.state=_.head(a.stateOptions),a.selectState=function(b){a.state=b,i(g())},a.loadMoar=function(){a.pauseAjx=!0,f++;var c=_.omitBy({limit:15,offset:15*f,like:g(),category:a.category.id},_.isNil);b.getLogs(c,function(b){"OK"==b.response&&200==b.status_code&&b.result?(b.result.length<15&&(a.doneAjx=!0),a.data=_.concat(a.data,b.result)):a.doneAjx=!0,a.pauseAjx=!1})};var h=void 0;a.$watch("search",function(b,d){_.isNil(b)||b===d?a.search="":(h&&c.cancel(h),h=c(function(){b.length>=3?i(b):""!=b||a.pauseAjx||i()},500))});var i=function(c){a.pauseAjx=!0,a.nodata=null,f=0,b.getLogs(_.omitBy({limit:15,like:c,offset:0,state:a.state.value},_.isNil),function(b){"OK"==b.response&&200==b.status_code&&(a.data=b.result,b.result&&0!=b.result.length?b.result.length<15?a.doneAjx=!0:a.doneAjx=!1:(a.nodata=e.nodata,a.doneAjx=!0),a.pauseAjx=!1)})};i()}]),app.controller("MiscController",["$scope","fetcher","$timeout","dialog","globalVar",function(a,b,c,d,e){a.setting={},a.categories={},a.badges={},a.institutions={},a.educations={};var f={badge:"lencana",category:"kategori",education:"pendidikan",institution:"lembaga"};a.openHint=function(){d.notif(e.miscHint)},a.settingInputs=[{label:"versi aplikasi",model:"version",tag:"input",type:"text"},{label:"life",model:"life",tag:"input",type:"number"},{label:"jumlah pemain pada daftar top score",model:"num_top_skor_list",tag:"input",type:"number"}],a.updateSetting=function(){b.putSetting(_.mapValues(a.setting,_.toString),function(a){"OK"==a.response&&200==a.status_code?d.notif(e.settingUpdated):d.error(e.globalError)})},a.new=function(a){var c=_.includes(["institution","education"],a)?"loneDialog":a+"Dialog";d[c](_.includes(["institution","education"],a)?{state:f[a]}:{},function(c){_.isObject(c)&&(_.isNil(c.category_enabled)||(c.category_enabled=c.category_enabled?"1":"0"),_.isNil(c.name)||"institution"!=a||(c.name_institution=c.name),_.isNil(c.name)||"education"!=a||(c.education=c.name),b["post"+_.upperFirst(a)](_.mapValues(c,_.toString),function(b){"OK"==b.response&&200==b.status_code&&g[a]()}))})},a.edit=function(a,c){var e=_.includes(["institution","education"],c)?"loneDialog":c+"Dialog",f=null,h=null;switch(c){case"category":f=a.ID_category,h=_.clone(a);break;case"badge":f=a.ID_Badge,h=_.clone(a);break;default:f=a.id,h={data:_.chain(a).clone().mapKeys(function(a,b){return _.includes(["name_institution","education"],b)?"name":b}).value(),state:c}}d[e](h,function(a){_.isObject(a)&&(_.isNil(a.category_enabled)||(a.category_enabled=a.category_enabled?"1":"0"),_.isNil(a.name)||"institution"!=c||(a.name_institution=a.name),_.isNil(a.name)||"education"!=c||(a.education=a.name),b["put"+_.upperFirst(c)](f,_.mapValues(a,_.toString),function(a){"OK"==a.response&&200==a.status_code?g[c]():d.error(a.message)}))})},a.delete=function(a,c,e,h){h.stopPropagation(),d.confirm("Apakah anda yakin akan menghapus "+f[e]+' "'+c+'"?',function(c){c&&b["delete"+_.upperFirst(e)](a,function(a){"OK"==a.response&&200==a.status_code?g[e]():d.error(a.message)})})},a.changeEna=function(a,c){c.stopPropagation();var d=a.category_enabled?"0":"1";b.putCategory(a.ID_category,{category_enabled:d},function(b){"OK"==b.response&&200==b.status_code&&(a.category_enabled=!a.category_enabled)})};var g={setting:function(){b.getSetting(function(b){"OK"==b.response&&200==b.status_code&&(a.setting=b.result)})},category:function(){b.getAllCategory({},function(b){"OK"==b.response&&200==b.status_code&&(a.categories=b.result)})},badge:function(){b.getAllBadge({},function(b){"OK"==b.response&&200==b.status_code&&(a.badges=b.result)})},institution:function(){b.getAllInstitution({},function(b){"OK"==b.response&&200==b.status_code&&(a.institutions=b.result)})},education:function(){b.getAllEducation({},function(b){"OK"==b.response&&200==b.status_code&&(a.educations=b.result)})}};!function(){g.setting(),g.category(),g.badge(),g.institution(),g.education()}()}]),app.controller("StatisticController",["$scope","fetcher","$interval","$timeout","$window","dialog","globalVar",function(a,b,c,d,e,f,g){var h=["#535657","#4F646F","#519872","#97B1A6","#79AEA3","#8E936D","#779FA1","#88AB75","#2D93AD","08605F","#177E89"];a.data={},a.pieoptions={chart:{type:"pieChart",x:function(a){return a.name},y:function(a){return a.jumlah},showLabels:!1,duration:500,labelThreshold:.01,labelSunbeamLayout:!0,labelsOutside:!1,valueFormat:function(a){return d3.format(",")(a)},cornerRadius:4,showLegend:!1,color:function(a,b){return h[b]||"#000"},legend:{}}},a.baroptions={chart:{type:"discreteBarChart",margin:{top:20,right:20,bottom:50,left:55},x:function(a){return a.label},y:function(a){return a.jumlah},showValues:!0,valueFormat:function(a){return d3.format(",")(a)},duration:500,color:function(a,b){return"#6dc0f9"}}},a.overview=[[{label:"total pemain",model:"total"},{label:"pemain masuk",model:"login"},{label:"transaksi",model:"transaction"}],[{label:"provinsi",model:"province"},{label:"kabupaten",model:"regency"},{label:"kecamatan",model:"district"},{label:"desa",model:"village"}]];var i=function(){b.getStatistic(function(b){"OK"==b.response&&200==b.status_code&&(a.data=b.result,a.currentTime=moment().format("dddd, Do MMMM YYYY, hh:mm"),a.maxVillage=_.chain(b).get(["result","topvillage"]).maxBy("jumlah").get("jumlah").value()||1)})};i(),c(function(){i()},3e5)}]),app.controller("UserController",["$scope","fetcher","$timeout","dialog","globalVar",function(a,b,c,d,e){var f=0;a.search="",a.nodata=null,a.loading=e.loading,a.data=[],a.pauseAjx=!1,a.doneAjx=!1,a.openHint=function(){d.notif(e.userHint)},a.loadMoar=function(){a.pauseAjx=!0,f++;var c=_.omitBy({limit:10,offset:10*f,like:a.search&&a.search.length>=3?a.search:null,orderby:a.orderby.value+" "+a.orderby.order},_.isNil);b.getAllUser(c,function(b){"OK"==b.response&&200==b.status_code&&b.result?(b.result.length<10&&(a.doneAjx=!0),a.data=_.concat(a.data,b.result)):a.doneAjx=!0,a.pauseAjx=!1})},a.toYear=function(a){return a<moment().format("YYYY")?moment().diff(moment().year(a),"years"):null};var g=void 0;a.$watch("search",function(b,d){_.isNil(b)||b===d?a.search="":(g&&c.cancel(g),g=c(function(){b.length>=3?h(b):""!=b||a.pauseAjx||h()},500))}),a.orderOptions=[{title:"nama",value:"usr_display_name",order:"ASC"},{title:"jabatan",value:"usr_designation",order:"ASC"},{title:"desa",value:"usr_village",order:"ASC"},{title:"umur",value:"usr_year_born",order:"ASC"},{title:"skor",value:"usr_score",order:"ASC"},{title:"kontribusi",value:"usr_contribution",order:"ASC"}],a.orderby=_.head(a.orderOptions),a.selectSort=function(b){a.orderby.title==b.title?b.order="ASC"==b.order?"DESC":"ASC":b.order="ASC",a.orderby=b,h(a.search&&a.search.length>=3?a.search:null)},a.newUser=function(){d.userDialog({},function(c){_.isObject(c)&&b.postUser(_.mapValues(c,_.toString),function(b){"OK"==b.response&&200==b.status_code&&h(a.search&&a.search.length>=3?a.search:null)})})},a.editUser=function(c){async.waterfall([function(a){b.getUser(c,function(b){"OK"==b.response&&200==b.status_code?a(null,b.result):a(b.message)})},function(a,b){var c=_.clone(a);d.userDialog(a,function(a){_.isObject(a)&&!_.isEqual(c,a)?b(null,a):b(null)})}],function(c,d){c&&console.log(c),d&&b.putUser(d.ID,_.chain(d).mapValues(_.toString).omit(["last_logged_in","usr_score"]).value(),function(b){"OK"==b.response&&200==b.status_code&&h(a.search&&a.search.length>=3?a.search:null)})})},a.emailTo=function(a,b,c){c.stopPropagation()},a.delete=function(c,e,f){f.stopPropagation(),d.confirm("Apakah anda yakin akan menghapus "+e+" akun?",function(d){d&&b.deleteUser(c,function(b){"OK"==b.response&&200==b.status_code&&h(a.search&&a.search.length>=3?a.search:null)})})};var h=function(c){a.pauseAjx=!0,a.nodata=null,f=0,b.getAllUser(_.omitBy({limit:10,like:c,offset:0,orderby:a.orderby.value+" "+a.orderby.order},_.isNil),function(b){"OK"==b.response&&200==b.status_code&&(a.data=b.result,b.result?b.result.length<10?a.doneAjx=!0:a.doneAjx=!1:(a.nodata=e.nodata,a.doneAjx=!0),a.pauseAjx=!1)})};h()}]),app.controller("ModalAdminController",["$scope","fetcher",function(a,b){a.data=a.ngDialogData.content||{},a.data.role=a.ngDialogData.content.role||[],a.roles=["role 1","role 2","role 3"],a.checkActive=function(b){return _.includes(a.data.role,b)},a.toggleActive=function(b){_.includes(a.data.role,b)?_.pull(a.data.role,b):a.data.role.push(b)},a.inputs=[{label:"nama",model:"name",tag:"input",type:"text",required:!0},{label:"username",model:"username",tag:"input",type:"text",required:!0},{label:"email",model:"email",tag:"input",type:"email",required:!0},{label:"password",model:"password",tag:"input",type:"password",required:!0},{label:"role",model:"role",tag:"roles"}]}]),app.controller("ModalBadgeController",["$scope",function(a){a.data=a.ngDialogData.content||{},a.inputs=[{label:"nama",model:"badge_name",tag:"input",type:"text",required:!0},{label:"text",model:"badge_text",tag:"input",type:"text",required:!0},{label:"skor terendah",model:"score_min",tag:"input",type:"number",required:!0},{label:"skor tertinggi",model:"score_max",tag:"input",type:"number",required:!0}]}]),app.controller("ModalCategoryController",["$scope",function(a){a.data=a.ngDialogData.content||{},a.data.category_enabled=1==a.data.category_enabled||!1,a.inputs=[{label:"nama",model:"category_name",tag:"input",type:"text",required:!0},{label:"deskripsi",model:"category_description",tag:"textarea"},{label:"aktifkan kategori",model:"category_enabled",tag:"checkbox"}]}]),app.controller("ModalChoicesController",["$scope",function(a){a.data=a.ngDialogData.content.data||{},a.data.question_enabled=1==a.data.question_enabled||!1,a.inputs=[{label:"pertanyaan",model:"question_text",tag:"textarea",required:!0},{label:"jawaban 1",model:"response_1",tag:"textarea",required:!0},{label:"jawaban 2",model:"response_2",tag:"textarea",required:!0},{label:"jawaban 3",model:"response_3",tag:"textarea",required:!0},{label:"jawaban 4",model:"response_4",tag:"textarea",required:!0},{label:"jawaban benar",model:"correct_response",tag:"select",value:_.chain(4).times(function(a){return a+1}).map(function(a){return{id:a,name:a}}).value(),required:!0},{label:"kategori",model:"question_category",tag:"select",value:_.omitBy(a.ngDialogData.content.categories,function(a){return _.isNil(a.id)}),required:!0},{label:"nilai jawaban benar",model:"bonus_value",tag:"input",type:"number"},{label:"waktu menjawab (detik)",model:"time_to_answer",tag:"input",type:"number"},{label:"aktifkan pertanyaan",model:"question_enabled",tag:"checkbox"}]}]),app.controller("ModalEssayController",["$scope",function(a){a.data=a.ngDialogData.content.data||{},a.inputs=[{label:"pertanyaan essai",model:"question",tag:"textarea",required:!0},{label:"kategori",model:"ID_category",tag:"select",value:_.omitBy(a.ngDialogData.content.categories,function(a){return _.isNil(a.id)}),required:!0}]}]),app.controller("ModalLocationController",["$scope",function(a){a.data=a.ngDialogData.content.data||{},a.inputs=[{label:"id",model:"id",tag:"input",required:!0},{label:"nama",model:"name",tag:"input",required:!0}]}]),app.controller("ModalLoneController",["$scope",function(a){a.data=a.ngDialogData.content.data||{},a.inputs=[{label:"nama",model:"name",tag:"input",type:"text",required:!0}]}]),app.controller("ModalProfileController",["$scope","fetcher",function(a,b){a.data=a.ngDialogData.content||{},a.inputs=[{label:"nama",model:"name",tag:"input",type:"text",required:!0},{label:"username",model:"username",tag:"input",type:"text",required:!0},{label:"email",model:"email",tag:"input",type:"email",required:!0},{label:"password baru",model:"newpassword",tag:"input",type:"password"}]}]),app.controller("ModalUserController",["$scope","fetcher",function(a,b){a.data=a.ngDialogData.content||{},a.autoData={province:[],regency:[],district:[],village:[]},a.autoSearch={province:"",regency:"",district:"",village:""},a.autoModel={province:null,regency:null,district:null,village:null};var c=function(a){return _.chain(a).map(function(a){return _.chain(a).pickBy(function(a,b){return _.includes(["id","education"],b)||_.startsWith(b,"name")}).mapKeys(function(a,b){return"id"==b?"id":"name"}).value()}).value()},d=function(b,c,d){var e=_.find(b,["id",c]);a.autoData[d]=e,a.autoSearch[d]=e.name},e=function(a){return function(b){return _.includes(angular.lowercase(b.name),angular.lowercase(a))}};a.querySearch=function(b){return a.autoSearch[b]?a.autoData[b].filter(e(a.autoSearch[b])):a.autoData[b]},a.isDisAuto=function(b){switch(b){case"regency":return _.isEmpty(a.data.usr_province);case"district":return _.isEmpty(a.data.usr_province)||_.isEmpty(a.data.usr_regency);case"village":return _.isEmpty(a.data.usr_province)||_.isEmpty(a.data.usr_regency)||_.isEmpty(a.data.usr_district);default:return!1}},a.autoChanged=function(d,e,f){if(d){var g="",h=["province","regency","district","village"],i=_.indexOf(h,e)+1;switch(a.data[f]=d,e){case"province":g=d;break;case"regency":g=a.data.usr_province+"/"+d;break;case"district":g=a.data.usr_province+"/"+a.data.usr_regency+"/"+d;break;default:return}_.chain(h).drop(i).forEach(function(b){a.autoModel[b]=null,a.autoSearch[b]="",a.data["usr_"+b]=null}).value(),b.getLocation(g,{},function(b){"OK"==b.response&&200==b.status_code&&(a.autoData[h[i]]=c(b.result.data))})}};!function(){async.parallel({instits:function(a){b.getAllInstitution({},function(b){"OK"==b.response&&200==b.status_code?a(null,c(b.result)):a(b.message)})},educats:function(a){
b.getAllEducation({},function(b){"OK"==b.response&&200==b.status_code?a(null,c(b.result)):a(b.message)})},province:function(e){b.getLocation("",{},function(b){if("OK"==b.response&&200==b.status_code){var f=c(b.result.data);a.data.usr_province&&d(f,a.data.usr_province,"province"),e(null,f)}else e(b.message)})},regency:function(e){a.data.ID&&a.data.usr_province?b.getLocation(a.data.usr_province,{},function(b){if("OK"==b.response&&200==b.status_code){var f=c(b.result.data);a.data.usr_regency&&d(f,a.data.usr_regency,"regency"),e(null,f)}else e(b.message)}):e(null,[])},district:function(e){a.data.ID&&a.data.usr_province&&a.data.usr_regency?b.getLocation(a.data.usr_province+"/"+a.data.usr_regency,{},function(b){if("OK"==b.response&&200==b.status_code){var f=c(b.result.data);a.data.usr_district&&d(f,a.data.usr_district,"district"),e(null,f)}else e(b.message)}):e(null,[])},village:function(e){a.data.ID&&a.data.usr_province&&a.data.usr_regency&&a.data.usr_district?b.getLocation(a.data.usr_province+"/"+a.data.usr_regency+"/"+a.data.usr_district,{},function(b){if("OK"==b.response&&200==b.status_code){var f=c(b.result.data);a.data.usr_village&&d(f,a.data.usr_village,"village"),e(null,f)}else e(b.message)}):e(null,[])}},function(b,c){b&&console.log(b),a.autoData.province=c.province,a.autoData.regency=c.regency,a.autoData.district=c.district,a.autoData.village=c.village,a.inputs=[{label:"nama",model:"usr_display_name",tag:"input",type:"text",required:!0},{label:"email",model:"usr_email",tag:"input",type:"email",required:!0},{label:"password",model:"usr_password",tag:"input",type:"password",required:!0},{label:"tahun lahir",model:"usr_year_born",tag:"input",type:"number"},{label:"jabatan",model:"usr_designation",tag:"input",type:"text"},{label:"jenis kelamin",model:"usr_gender",tag:"radio",value:[{label:"male",value:"m"},{label:"female",value:"f"}]},{label:"lembaga",model:"usr_institution",tag:"select",value:c.instits},{label:"pendidikan",model:"usr_education",tag:"select",value:c.educats},{label:"provinsi",model:"usr_province",tag:"autocomplete",value:"province"},{label:"kabupaten",model:"usr_regency",tag:"autocomplete",value:"regency"},{label:"kecamatan",model:"usr_district",tag:"autocomplete",value:"district"},{label:"desa",model:"usr_village",tag:"autocomplete",value:"village"}]})}()}]),app.directive("autofocus",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){"true"==d.autofocus&&a(function(){c.focus()})}}}]),app.directive("typeEverywhere",["$document",function(a){return{require:"ngModel",restrict:"A",scope:{ngModel:"="},link:function(b,c,d){a.bind("keypress",function(d){var e=d.which||d.keyCode,f=angular.element(a[0].activeElement)[0].tagName;_.includes([13],e)||_.includes(["INPUT","TEXTAREA"],f)||(b.ngModel+=String.fromCharCode(e),c.focus())})}}}]),app.directive("openDropdown",["$document",function(a){return{restrict:"A",scope:{openDropdown:"="},link:function(b,c,d){function e(a){b.$apply(function(){b.openDropdown=!b.openDropdown})}b.openDropdown=!1;for(var f=[c[0]],g=c.children().length,h=c.children();g;)f=_.concat(f,_.chain(h).pick(_.times(h.length)).values().value()),h=h.children(),g=h.length;c.bind("click",e),a.bind("click",function(a){_.includes(f,a.target)||b.$apply(function(){b.openDropdown=!1})})}}}]),app.directive("forceHeight",[function(){return{restrict:"A",link:function(a,b,c){var d=c.forceHeight||1;a.$watch(function(){return b.width()},function(a,c){b.css("height",a*d+"px")}),b.bind("resize",function(){a.$apply()})}}}]),app.directive("setVillageWidth",[function(){return{restrict:"A",link:function(a,b,c){var d=c.setVillageWidth||0,e=50+d/a.$parent.maxVillage*50;b.css("width","calc("+e+"% - "+2*+_.replace(b.css("padding"),"px","")+"px)")}}}]),app.factory("fetcher",["$http","$httpParamSerializer","localStorageService","$window","$location",function(a,b,c,d,e){var f="http://api.server1.gapura-desa.id/",g={headers:{"Content-Type":"application/json; charset=utf-8"}};return{getAllUser:function(c,d){a.get(f+"user?"+b(c),g).then(function(a){d(a.data)},function(a){d(a.data)})},getUser:function(b,c){a.get(f+"user/"+b,g).then(function(a){c(a.data)},function(a){c(a.data)})},postUser:function(b,d){a.post(f+"user",_.assign(b,{defendant:c.get("id")}),g).then(function(a){d(a.data)},function(a){d(a.data)})},putUser:function(b,d,e){a.put(f+"user/"+b,_.assign(d,{defendant:c.get("id")}),g).then(function(a){e(a.data)},function(a){e(a.data)})},deleteUser:function(b,d){a(_.assign({method:"DELETE",url:f+"user/"+b,data:{defendant:c.get("id")}},g)).then(function(a){d(a.data)},function(a){d(a.data)})},getAllAdmin:function(c,d){a.get(f+"admin?"+b(c),g).then(function(a){d(a.data)},function(a){d(a.data)})},getAdmin:function(b,c){a.get(f+"admin/"+b,g).then(function(a){c(a.data)},function(a){c(a.data)})},postAdmin:function(b,d){a.post(f+"admin",_.assign(b,{defendant:c.get("id")}),g).then(function(a){d(a.data)},function(a){d(a.data)})},putAdmin:function(b,d,e){a.put(f+"admin/"+b,_.assign(d,{defendant:c.get("id")}),g).then(function(a){e(a.data)},function(a){e(a.data)})},deleteAdmin:function(b,d){a(_.assign({method:"DELETE",url:f+"admin/"+b,data:{defendant:c.get("id")}},g)).then(function(a){d(a.data)},function(a){d(a.data)})},getAllQuestion:function(c,d){a.get(f+"question?"+b(c),g).then(function(a){d(a.data)},function(a){d(a.data)})},getQuestion:function(b,c){a.get(f+"question/"+b,g).then(function(a){c(a.data)},function(a){c(a.data)})},postQuestion:function(b,d){a.post(f+"question",_.assign(b,{defendant:c.get("id")}),g).then(function(a){d(a.data)},function(a){d(a.data)})},putQuestion:function(b,d,e){a.put(f+"question/"+b,_.assign(d,{defendant:c.get("id")}),g).then(function(a){e(a.data)},function(a){e(a.data)})},deleteQuestion:function(b,d){a(_.assign({method:"DELETE",url:f+"question/"+b,data:{defendant:c.get("id")}},g)).then(function(a){d(a.data)},function(a){d(a.data)})},getAllAnswer:function(c,d){a.get(f+"answer?"+b(c),g).then(function(a){d(a.data)},function(a){d(a.data)})},getAnswer:function(b,c){a.get(f+"answer/"+b,g).then(function(a){c(a.data)},function(a){c(a.data)})},postAnswer:function(b,d){a.post(f+"answer",_.assign(b,{defendant:c.get("id")}),g).then(function(a){d(a.data)},function(a){d(a.data)})},putAnswer:function(b,d,e){a.put(f+"answer/"+b,_.assign(d,{defendant:c.get("id")}),g).then(function(a){e(a.data)},function(a){e(a.data)})},deleteAnswer:function(b,d){a(_.assign({method:"DELETE",url:f+"answer/"+b,data:{defendant:c.get("id")}},g)).then(function(a){d(a.data)},function(a){d(a.data)})},getAllEssay:function(c,d){a.get(f+"essay?"+b(c),g).then(function(a){d(a.data)},function(a){d(a.data)})},getEssay:function(b,c){a.get(f+"essay/"+b,g).then(function(a){c(a.data)},function(a){c(a.data)})},postEssay:function(b,d){a.post(f+"essay",_.assign(b,{defendant:c.get("id")}),g).then(function(a){d(a.data)},function(a){d(a.data)})},putEssay:function(b,d,e){a.put(f+"essay/"+b,_.assign(d,{defendant:c.get("id")}),g).then(function(a){e(a.data)},function(a){e(a.data)})},deleteEssay:function(b,d){a(_.assign({method:"DELETE",url:f+"essay/"+b,data:{defendant:c.get("id")}},g)).then(function(a){d(a.data)},function(a){d(a.data)})},getAllEssayAns:function(c,d){a.get(f+"essayanswer?"+b(c),g).then(function(a){d(a.data)},function(a){d(a.data)})},getEssayAns:function(b,c){a.get(f+"essayanswer/"+b,g).then(function(a){c(a.data)},function(a){c(a.data)})},postEssayAns:function(b,d){a.post(f+"essayanswer",_.assign(b,{defendant:c.get("id")}),g).then(function(a){d(a.data)},function(a){d(a.data)})},putEssayAns:function(b,d,e){a.put(f+"essayanswer/"+b,_.assign(d,{defendant:c.get("id")}),g).then(function(a){e(a.data)},function(a){e(a.data)})},deleteEssayAns:function(b,d){a(_.assign({method:"DELETE",url:f+"essayanswer/"+b,data:{defendant:c.get("id")}},g)).then(function(a){d(a.data)},function(a){d(a.data)})},getAllEducation:function(c,d){a.get(f+"education?"+b(c),g).then(function(a){d(a.data)},function(a){d(a.data)})},getEducation:function(b,c){a.get(f+"education/"+b,g).then(function(a){c(a.data)},function(a){c(a.data)})},postEducation:function(b,d){a.post(f+"education",_.assign(b,{defendant:c.get("id")}),g).then(function(a){d(a.data)},function(a){d(a.data)})},putEducation:function(b,d,e){a.put(f+"education/"+b,_.assign(d,{defendant:c.get("id")}),g).then(function(a){e(a.data)},function(a){e(a.data)})},deleteEducation:function(b,d){a(_.assign({method:"DELETE",url:f+"education/"+b,data:{defendant:c.get("id")}},g)).then(function(a){d(a.data)},function(a){d(a.data)})},getAllInstitution:function(c,d){a.get(f+"institution?"+b(c),g).then(function(a){d(a.data)},function(a){d(a.data)})},getInstitution:function(b,c){a.get(f+"institution/"+b,g).then(function(a){c(a.data)},function(a){c(a.data)})},postInstitution:function(b,d){a.post(f+"institution",_.assign(b,{defendant:c.get("id")}),g).then(function(a){d(a.data)},function(a){d(a.data)})},putInstitution:function(b,d,e){a.put(f+"institution/"+b,_.assign(d,{defendant:c.get("id")}),g).then(function(a){e(a.data)},function(a){e(a.data)})},deleteInstitution:function(b,d){a(_.assign({method:"DELETE",url:f+"institution/"+b,data:{defendant:c.get("id")}},g)).then(function(a){d(a.data)},function(a){d(a.data)})},getLocation:function(c,d,e){a.get(f+"location/"+c+"?"+b(d),g).then(function(a){e(a.data)},function(a){e(a.data)})},postLocation:function(b,d,e){a.post(f+"location/"+b,_.assign(d,{defendant:c.get("id")}),g).then(function(a){e(a.data)},function(a){e(a.data)})},putLocation:function(b,d,e){a.put(f+"location/"+b,_.assign(d,{defendant:c.get("id")}),g).then(function(a){e(a.data)},function(a){e(a.data)})},deleteLocation:function(b,d){a(_.assign({method:"DELETE",url:f+"location/"+b,data:{defendant:c.get("id")}},g)).then(function(a){d(a.data)},function(a){d(a.data)})},getAllCategory:function(c,d){a.get(f+"category?"+b(c),g).then(function(a){d(a.data)},function(a){d(a.data)})},getCategory:function(b,c){a.get(f+"category/"+b,g).then(function(a){c(a.data)},function(a){c(a.data)})},postCategory:function(b,d){a.post(f+"category",_.assign(b,{defendant:c.get("id")}),g).then(function(a){d(a.data)},function(a){d(a.data)})},putCategory:function(b,d,e){a.put(f+"category/"+b,_.assign(d,{defendant:c.get("id")}),g).then(function(a){e(a.data)},function(a){e(a.data)})},deleteCategory:function(b,d){a(_.assign({method:"DELETE",url:f+"category/"+b,data:{defendant:c.get("id")}},g)).then(function(a){d(a.data)},function(a){d(a.data)})},getSetting:function(b){a.get(f+"setting",g).then(function(a){b(a.data)},function(a){b(a.data)})},putSetting:function(b,d){a.put(f+"setting",_.assign(b,{defendant:c.get("id")}),g).then(function(a){d(a.data)},function(a){d(a.data)})},getAllBadge:function(c,d){a.get(f+"badge?"+b(c),g).then(function(a){d(a.data)},function(a){d(a.data)})},getBadge:function(b,c){a.get(f+"badge/"+b,g).then(function(a){c(a.data)},function(a){c(a.data)})},postBadge:function(b,d){a.post(f+"badge",_.assign(b,{defendant:c.get("id")}),g).then(function(a){d(a.data)},function(a){d(a.data)})},putBadge:function(b,d,e){a.put(f+"badge/"+b,_.assign(d,{defendant:c.get("id")}),g).then(function(a){e(a.data)},function(a){e(a.data)})},deleteBadge:function(b,d){a(_.assign({method:"DELETE",url:f+"badge/"+b,data:{defendant:c.get("id")}},g)).then(function(a){d(a.data)},function(a){d(a.data)})},getStatistic:function(b){a.get(f+"statistic",g).then(function(a){b(a.data)},function(a){b(a.data)})},postAuth:function(b,d){a.post(f+"auth",_.assign(b,{defendant:c.get("id")}),g).then(function(a){d(a.data)},function(a){d(a.data)})},getLogs:function(c,d){a.get(f+"logs?"+b(c),g).then(function(a){d(a.data)},function(a){d(a.data)})}}}]),app.filter("startFrom",function(){return function(a,b){return a?(b=+b,a.slice(b)):[]}}),app.filter("orderNotMyProvince",function(){return function(a){return _.chain(a).sortBy(function(a){return a.length}).value()}}),app.filter("ordinal",function(){return function(a){if(_.isNil(a)||a<1)return a;switch(a%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd";default:return a+"th"}}}),app.factory("dialog",["ngDialog",function(a){var b=function(b,c,d,e,f,g){return a.open({template:"views/dialogs/"+c+".html",className:"ngdialog-theme-default"+(g?" "+g:""),data:{content:b},width:e||450,showClose:f||!1,controller:d})};return{userDialog:function(a,c){b(a,"user","ModalUserController",1e3).closePromise.then(function(a){c(a.value)})},adminDialog:function(a,c){b(a,"admin","ModalAdminController",1e3).closePromise.then(function(a){c(a.value)})},profileDialog:function(a,c){b(a,"profile","ModalProfileController",600).closePromise.then(function(a){c(a.value)})},choicesDialog:function(a,c){b(a,"choices","ModalChoicesController",1e3).closePromise.then(function(a){c(a.value)})},essayDialog:function(a,c){b(a,"essay","ModalEssayController",1e3).closePromise.then(function(a){c(a.value)})},locationDialog:function(a,c){b(a,"location","ModalLocationController",600).closePromise.then(function(a){c(a.value)})},categoryDialog:function(a,c){b(a,"category","ModalCategoryController",600).closePromise.then(function(a){c(a.value)})},badgeDialog:function(a,c){b(a,"badge","ModalBadgeController",750).closePromise.then(function(a){c(a.value)})},loneDialog:function(a,c){b(a,"lone","ModalLoneController",600).closePromise.then(function(a){c(a.value)})},confirm:function(a,c){b(a,"confirm",["$scope",function(a){}]).closePromise.then(function(a){c("yes"==a.value)})},notif:function(a){b(a,"notif",["$scope","$sce",function(a,b){a.trust=function(a){return b.trustAsHtml(a)}}],600)},error:function(a){b(a,"error",["$scope",function(a){}])}}}]),app.factory("globalVar",[function(){return{nodata:"no data available at this point.",loading:"loading data",globalError:"something something happened. please smell your coffee while we fixing this.",settingUpdated:"pengaturan berhasil diperbarui.",userHint:'<ol><li>Anda dapat mencari pemain melalui nama dengan mengetik pada kolom yang disediakan.</li><li>Urutan daftar pemain dapat diubah dengan cara menekan kata "urutan" dan memilih urutan yang telh disediakan.</li><li>Pemain baru dapat ditambahkan melalu tombol <i class="fa fa-plus" aria-hidden="true"></i> Pemain Baru.</li><li>Warna pada bagian kiri melambangkan <span style="color: #b24f9c;">pemain wanita</span> dan <span style="color: #41658A"> pemain pria</span>.</li><li>Icon <i class="fa fa-envelope-open" aria-hidden="true"></i> digunakan untuk mengirim email berisi reset password ke email pemain yang telah terdaftar.</li><li>Icon <i class="fa fa-times" aria-hidden="true"></i> dapat digunakan untuk menghapus pemain.</li><li>Anda dapat melihat atau mengubah data pemain dengan cara menekan kotak yang anda inginkan.</li><ol>',adminHint:'<ol><li>Anda dapat mencari admin melalui nama dengan mengetik pada kolom yang disediakan.</li><li>Pemain baru dapat ditambahkan melalu tombol <i class="fa fa-plus" aria-hidden="true"></i> Admin Baru.</li><li>Icon <i class="fa fa-times" aria-hidden="true"></i> dapat digunakan untuk menghapus admin.</li><li>Anda dapat melihat atau mengubah data pemain dengan cara menekan kotak yang anda inginkan.</li><ol>',choicesHint:'<ol><li>Anda dapat mencari pertanyaan pilihan ganda berdasarkan pertanyaan dengan mengetik pada kolom yang disediakan.</li><li>Pertanyaan pilihan ganda dapat difilter berdasarkan kategori dengan menekan kata "kategori".</li><li>Pertanyaan pilihan ganda baru dapat ditambahkan melalu tombol <i class="fa fa-plus" aria-hidden="true"></i> Pertanyaan Baru.</li><li><span style="color: #FC7E01;">Warna pada latar</span> melambangkan pertanyaan yang tidak aktif.<li>Icon <i class="fa fa-dot-circle-o" aria-hidden="true"></i> melambangkan pertanyaan aktif dan <i class="fa fa-circle" aria-hidden="true"></i> melambangkan pertanyaan yang tidak aktif. Anda dapat merubah status aktif pertanyaan dengan menekan icon ini.</li><li>Icon <i class="fa fa-times" aria-hidden="true"></i> dapat digunakan untuk menghapus pertanyaan.</li><li>Anda dapat melihat atau mengubah data pertanyaan pilihan ganda dengan cara menekan kotak yang anda inginkan.</li><ol>',choicesAnsHint:'<ol><li>Anda dapat mencari jawaban pilihan ganda berdasarkan nama user dengan mengetik pada kolom yang disediakan.</li><li>Jawaban pilihan ganda dapat difilter berdasarkan kategori dengan menekan kata "kategori".</li><li><span style="color: #BB342F;">Warna pada latar</span> melambangkan jawaban yang salah.<li>Icon <i class="fa fa-times" aria-hidden="true"></i> dapat digunakan untuk menghapus pertanyaan.</li><ol>',essayHint:'<ol><li>Anda dapat mencari pertanyaan essay berdasarkan pertanyaan dengan mengetik pada kolom yang disediakan.</li><li>Pertanyaan essay dapat difilter berdasarkan kategori dengan menekan kata "kategori".</li><li>Pertanyaan essay baru dapat ditambahkan melalu tombol <i class="fa fa-plus" aria-hidden="true"></i> Pertanyaan Baru.</li><li>Icon <i class="fa fa-times" aria-hidden="true"></i> dapat digunakan untuk menghapus pertanyaan.</li><li>Anda dapat melihat atau mengubah data pertanyaan essay dengan cara menekan kotak yang anda inginkan.</li><ol>',essayAnsHint:'<ol><li>Anda dapat mencari jawaban essay berdasarkan nama user dengan mengetik pada kolom yang disediakan.</li><li>Jawaban essay dapat difilter berdasarkan kategori dengan menekan kata "kategori".</li><li>Icon <i class="fa fa-times" aria-hidden="true"></i> dapat digunakan untuk menghapus pertanyaan.</li><ol>',locationHint:'<ol><li>Anda dapat mencari lokasi berdasarkan nama lokasi dengan mengetik pada kolom yang disediakan.</li><li>Lokasi baru dapat ditambahkan melalu tombol <i class="fa fa-plus" aria-hidden="true"></i> (lokasi) Baru.</li><li>Icon <i class="fa fa-times" aria-hidden="true"></i> dapat digunakan untuk menghapus lokasi.</li><li>Icon <i class="fa fa-pencil" aria-hidden="true"></i> dapat digunakan untuk mengubah lokasi.</li><li>Anda dapat melakukan navigasi ke detil lokasi dengan menekan kotak lokasi yang anda inginkan. Untuk kembali ke level sebelumnya, anda dapat menekan nama lokasi pada bagian kiri atas.</li><ol>',miscHint:'<ol><li>Anda dapat mengubah pengaturan aplikasi dengan cara mengganti nilai pada kolom yang anda inginkan, data akan disimpan setelah anda menekan tombol "perbarui".</li><li>Icon <i class="fa fa-dot-circle-o" aria-hidden="true"></i> melambangkan kategori aktif dan <i class="fa fa-circle" aria-hidden="true"></i> melambangkan kategori yang tidak aktif. Anda dapat merubah status aktif kategori dengan menekan icon ini.</li><li>(kategori / lencana / lembaga / pendidikan) baru dapat ditambahkan melalui tombol pada bagian kanan bawah setiap section.</li><li>Icon <i class="fa fa-times" aria-hidden="true"></i> dapat digunakan untuk menghapus (kategori / lencana / lembaga / pendidikan).</li><li>Anda dapat melihat atau mengubah data (kategori / lencana / lembaga / pendidikan) dengan cara menekan kotak yang anda inginkan.</li><ol>'}}]);
//# sourceMappingURL=main.min.js.map