"use strict";var angular=angular,app=angular.module("app",["ui.router","ct.ui.router.extras.core","permission","permission.ui","LocalStorageModule","ngDialog","angular-loading-bar","ngAnimate","infinite-scroll"]);app.config(["$stateProvider","$locationProvider","$urlRouterProvider","$httpProvider","localStorageServiceProvider","cfpLoadingBarProvider",function(a,b,c,d,e,f){c.otherwise(function(a){a.get("$state").go("dashboard")}),a.state("dashboard",{url:"",templateUrl:"views/dashboard/dashboard.html",controller:"DashboardController",abstract:!0}).state("dashboard.statistic",{url:"",templateUrl:"views/dashboard/statistic.html",controller:"StatisticController"}).state("dashboard.user",{url:"/user",templateUrl:"views/dashboard/user.html",controller:"UserController"}).state("dashboard.choices",{url:"/choices",templateUrl:"views/dashboard/choices/question.html",controller:"ChoicesController"}).state("dashboard.choicesAns",{url:"/choicesAns",templateUrl:"views/dashboard/choices/answer.html",controller:"ChoicesAnsController"}).state("dashboard.essay",{url:"/essay",templateUrl:"views/dashboard/essay/question.html",controller:"EssayController"}).state("dashboard.essayAns",{url:"/essayAns",templateUrl:"views/dashboard/essay/answer.html",controller:"EssayAnsController"}).state("dashboard.location",{url:"/location",templateUrl:"views/dashboard/location.html",controller:"LocationController"}).state("dashboard.misc",{url:"/misc",templateUrl:"views/dashboard/misc.html",controller:"MiscController"}),e.setPrefix("gapuradesa"),f.parentSelector="#loading-bar-container"}]),app.controller("MainController",["$scope","$rootScope","$location","localStorageService","fetcher",function(a,b,c,d,e){}]),app.run(["PermPermissionStore","localStorageService","$templateCache",function(a,b,c){}]),app.controller("CategoryController",["$scope","fetcher",function(a,b){}]),app.controller("ChoicesAnsController",["$scope","fetcher",function(a,b){}]),app.controller("ChoicesController",["$scope","fetcher",function(a,b){}]),app.controller("DashboardController",["$scope","$location","$document","$state","localStorageService","fetcher",function(a,b,c,d,e,f){a.menus=[{title:"Statistic",icon:"line-chart",state:"statistic"},{title:"User",icon:"user",state:"user"},{title:"Choices' Question",icon:"th-large",state:"choices"},{title:"Choices' Answer",icon:"square",state:"choicesAns"},{title:"Essay's Question",icon:"pencil-square-o",state:"essay"},{title:"Essay's Answer",icon:"file-text-o",state:"essayAns"},{title:"Location",icon:"map-o",state:"location"},{title:"Miscellaneous",icon:"cogs",state:"misc"}];var g=b.url().split("/")[1];a.active=g||_.chain(a.menus).head().get("state").value(),a.setActive=function(b){a.active=b,d.go("dashboard."+b)}}]),app.controller("EssayAnsController",["$scope","fetcher",function(a,b){}]),app.controller("EssayController",["$scope","fetcher",function(a,b){}]),app.controller("LocationController",["$scope","fetcher",function(a,b){}]),app.controller("MiscController",["$scope","fetcher",function(a,b){}]),app.controller("StatisticController",["$scope","fetcher",function(a,b){}]),app.controller("UserController",["$scope","fetcher","$timeout",function(a,b,c){var d=0;a.data=[],a.pauseAjx=!1,a.doneAjx=!1,a.loadMoar=function(){a.pauseAjx=!0,d++;var c=_.omitBy({limit:10,offset:10*d,like:a.search&&a.search.length>=3?a.search:null,orderby:a.orderby.value},_.isNil);b.getAllUser(c,function(b){"OK"==b.response&&200==b.status_code?(b.result.length<10&&(a.doneAjx=!0),a.data=_.concat(a.data,b.result)):a.doneAjx=!0,a.pauseAjx=!1})};var e=void 0;a.$watch("search",function(a,b){e&&c.cancel(e),e=c(function(){a!==b&&a.length>=3?f(a):""==a&&f()},500)}),a.orderOptions=[{title:"name",value:"usr_display_name",order:"ASC"},{title:"designation",value:"usr_designation",order:"ASC"},{title:"village",value:"usr_village",order:"ASC"},{title:"age",value:"usr_years",order:"ASC"},{title:"score",value:"usr_score",order:"ASC"},{title:"contribution",value:"usr_contribution",order:"ASC"}],a.orderby=_.head(a.orderOptions),a.selectSort=function(b){a.orderby.title==b.title?b.order="ASC"==b.order?"DESC":"ASC":b.order="ASC",a.orderby=b,f(a.search&&a.search.length>=3?a.search:null)};var f=function(c){a.pauseAjx=!0,d=0,b.getAllUser(_.omitBy({limit:10,like:c,offset:0,orderby:a.orderby.value+" "+a.orderby.order},_.isNil),function(b){"OK"==b.response&&200==b.status_code&&(a.data=b.result,b.result.length<10?a.doneAjx=!0:a.doneAjx=!1,a.pauseAjx=!1)})};f()}]),app.directive("autofocus",["$timeout",function(a){return{link:function(b,c,d){a(function(){c.focus()})}}}]),app.directive("typeEverywhere",["$document",function(a){return{require:"ngModel",restrict:"A",scope:{ngModel:"="},link:function(b,c,d){a.bind("keypress",function(a){var d=a.which||a.keyCode;_.includes(d,[13])||(b.ngModel+=String.fromCharCode(d),c.focus())})}}}]),app.directive("openDropdown",["$document",function(a){return{restrict:"A",scope:{openDropdown:"="},link:function(b,c,d){function e(){b.$apply(function(){b.openDropdown=!b.openDropdown})}b.openDropdown=!1,c.bind("click",e),a.bind("click",function(a){_.includes(c,a.target)||b.$apply(function(){b.openDropdown=!1})})}}}]),app.factory("fetcher",["$http","$httpParamSerializer","$window","$location",function(a,b,c,d){return{getAllUser:function(c,d){a.get("http://localhost:3010/user?"+b(c)).then(function(a){d(a.data)},function(a){d(a.data)})}}}]),app.factory("globalVar",[function(){return{}}]);
//# sourceMappingURL=main.min.js.map